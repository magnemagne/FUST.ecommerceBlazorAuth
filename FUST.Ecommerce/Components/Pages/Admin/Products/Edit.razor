@page "/admin/products/edit/{id:int}"
@using FUST.Ecommerce.Models
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize(Roles = "Admin, Superuser")]


<h3>Update</h3>

<EditForm EditContext="_editContext" OnValidSubmit="Update">
	<DataAnnotationsValidator />

	<div>
		<label for="txtId">Id:</label>
		<InputNumber class="form-control"
				   id="txtId"
				   disabled
				   @bind-Value="Input.Id" />
		<ValidationMessage For="@(() => Input.Id)" />
	</div>

	<div>
		<label for="txtName">Name:</label>
		<InputText class="form-control"
				   id="txtName"
				   @bind-Value="Input.Name" />
		<ValidationMessage For="@(() => Input.Name)" />
	</div>

	<div>
		<label for="txtPrice">Price:</label>
		<InputNumber class="form-control"
				   id="txtPrice"
				   @bind-Value="Input.Price" />
		<ValidationMessage For="@(() => Input.Price)" />
	</div>

	<div>
		<label for="txtCategoryId">Category Id:</label>
		<InputNumber class="form-control"
					 id="txtCategoryId"
					 @bind-Value="Input.CategoryId" />
		<ValidationMessage For="@(() => Input.CategoryId)" />
	</div>

	<div>
		<label for="txtDesc">Description:</label>
		<InputText class="form-control"
				   id="txtDesc"
				   @bind-Value="Input.Description" />
		<ValidationMessage For="@(() => Input.Description)" />
	</div>

	<hr />
	<div style="width:100%">
		<button type="submit" class="btn btn-primary">Update</button>
		<a href="/admin/products/" class="btn btn-xs btn-secondary">Back to list</a>
	</div>
</EditForm>
<hr />
<p>@StatusConstraints</p>
